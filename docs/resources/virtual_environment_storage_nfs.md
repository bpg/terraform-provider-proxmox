---
layout: page
title: proxmox_virtual_environment_storage_nfs
parent: Resources
subcategory: Virtual Environment
description: |-
  Manages an NFS-based storage in Proxmox VE.
---

# Resource: proxmox_virtual_environment_storage_nfs

Manages an NFS-based storage in Proxmox VE.

## Example Usage

```terraform
resource "proxmox_virtual_environment_storage_nfs" "example" {
  id     = "example-nfs"
  nodes  = ["pve"]
  server = "10.0.0.10"
  export = "/exports/proxmox"

  content = ["images", "iso", "backup"]

  options                  = "vers=4.2"
  preallocation            = "metadata"
  snapshot_as_volume_chain = true

  backups {
    max_protected_backups = 5
    keep_daily            = 7
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `export` (String) The path of the NFS export.
- `id` (String) The unique identifier of the storage.
- `server` (String) The IP address or DNS name of the NFS server.

### Optional

- `backups` (Block, Optional) Configure backup retention settings for the storage type. (see [below for nested schema](#nestedblock--backups))
- `content` (Set of String) The content types that can be stored on this storage.
- `disable` (Boolean) Whether the storage is disabled.
- `nodes` (Set of String) A list of nodes where this storage is available.
- `options` (String) The options to pass to the NFS service.
- `preallocation` (String) The preallocation mode for raw and qcow2 images.
- `snapshot_as_volume_chain` (Boolean) Enable support for creating snapshots through volume backing-chains.

### Read-Only

- `shared` (Boolean) Whether the storage is shared across all nodes.

<a id="nestedblock--backups"></a>
### Nested Schema for `backups`

Optional:

- `keep_all` (Boolean) Specifies if all backups should be kept, regardless of their age. When set to true, other keep_* attributes must not be set.
- `keep_daily` (Number) The number of daily backups to keep. Older backups will be removed.
- `keep_hourly` (Number) The number of hourly backups to keep. Older backups will be removed.
- `keep_last` (Number) Specifies the number of the most recent backups to keep, regardless of their age.
- `keep_monthly` (Number) The number of monthly backups to keep. Older backups will be removed.
- `keep_weekly` (Number) The number of weekly backups to keep. Older backups will be removed.
- `keep_yearly` (Number) The number of yearly backups to keep. Older backups will be removed.
- `max_protected_backups` (Number) The maximum number of protected backups per guest. Use '-1' for unlimited.
