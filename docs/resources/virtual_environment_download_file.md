---
layout: page
title: proxmox_virtual_environment_download_file
parent: Resources
subcategory: Virtual Environment
description: |-
  Manages files upload using directly proxmox download-url API. It can be a full replacement for ISO files created using proxmox_virtual_environment_file and it does not use SSH.
  Supports officially only iso and vztmpl content types, though other like qcow2 can be used when allow_unsupported_types is set to true, proxmox does seem to handle it properly.
---

# Resource: proxmox_virtual_environment_download_file

Manages files upload using directly proxmox download-url API. It can be a full replacement for ISO files created using `proxmox_virtual_environment_file` and it does not use SSH.

Supports officially only `iso` and `vztmpl` content types, though other like `qcow2` can be used when `allow_unsupported_types` is set to `true`, proxmox does seem to handle it properly.

## Example Usage

```terraform
resource "proxmox_virtual_environment_download_file" "ubuntu_24_noble_image" {
  content_type       = "iso"
  datastore_id       = "local"
  node_name          = "pve"
  download_url       = "https://cloud-images.ubuntu.com/noble/20231218/noble-server-cloudimg-amd64.img"
  checksum           = "ee57ee52e80d1cdd4121043dd5109c7869433e5e2a78bfa6058881fc1d535e03"
  checksum_algorithm = "sha256"
}

resource "proxmox_virtual_environment_download_file" "ubuntu_20_lxc_image" {
  content_type = "vztmpl"
  datastore_id = "local"
  node_name    = "pve"
  download_url = "http://download.proxmox.com/images/system/ubuntu-20.04-standard_20.04-1_amd64.tar.gz"
}

resource "proxmox_virtual_environment_download_file" "debian12_image_qcow2" {
  content_type            = "iso"
  datastore_id            = "local"
  node_name               = "pve"
  download_url            = "https://cloud.debian.org/images/cloud/bookworm/20230802-1460/debian-12-generic-amd64-20230802-1460.qcow2"
  allow_unsupported_types = true
  upload_timeout          = 4444
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `content_type` (String) The file content type. Must be `iso` | `vztmpl`.
- `datastore_id` (String) The identifier for the target datastore.
- `download_url` (String) The URL to download the file from. Format `https?://.*`.
- `node_name` (String) The node name.

### Optional

- `allow_unsupported_types` (Boolean) By default `false`. If `true`, content formats `qcow2` and `raw` can be downloaded, though it is not supported by proxmox.
- `checksum` (String) The expected checksum of the file.
- `checksum_algorithm` (String) The algorithm to calculate the checksum of the file. Must be `md5` | `sha1` | `sha224` | `sha256` | `sha384` | `sha512`.
- `compression` (String) Decompress the downloaded file using the specified compression algorithm.
- `upload_timeout` (Number) The file download timeout seconds. Default is 600 (10min).
- `verify` (Boolean) By default `true`. If `false`, no SSL/TLS certificates will be verified.

### Read-Only

- `filename` (String) The file name.
- `id` (String) The unique identifier of this resource.
- `path` (String) The file path on host.
- `size` (Number) The file size.
