---
layout: page
title: proxmox_virtual_environment_download_file
parent: Resources
subcategory: Virtual Environment
description: |-
  Manages files upload using PVE download-url API. It can be a full and faster replacement for image files created using proxmox_virtual_environment_file. Supports iso and vztmpl content types.
---

# Resource: proxmox_virtual_environment_download_file

Manages files upload using PVE download-url API. It can be a full and faster replacement for image files created using `proxmox_virtual_environment_file`. Supports `iso` and `vztmpl` content types.

## Example Usage

```terraform
resource "proxmox_virtual_environment_download_file" "ubuntu_24_noble_image" {
  content_type       = "iso"
  datastore_id       = "local"
  node_name          = "pve"
  download_url       = "https://cloud-images.ubuntu.com/noble/20231218/noble-server-cloudimg-amd64.img"
  checksum           = "ee57ee52e80d1cdd4121043dd5109c7869433e5e2a78bfa6058881fc1d535e03"
  checksum_algorithm = "sha256"
}

resource "proxmox_virtual_environment_download_file" "ubuntu_20_lxc_image" {
  content_type = "vztmpl"
  datastore_id = "local"
  node_name    = "pve"
  download_url = "http://download.proxmox.com/images/system/ubuntu-20.04-standard_20.04-1_amd64.tar.gz"
}

resource "proxmox_virtual_environment_download_file" "debian12_image_qcow2" {
  content_type            = "iso"
  datastore_id            = "local"
  node_name               = "pve"
  download_url            = "https://cloud.debian.org/images/cloud/bookworm/20230802-1460/debian-12-generic-amd64-20230802-1460.qcow2"
  allow_unsupported_types = true
  upload_timeout          = 4444
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `content_type` (String) The file content type. Must be `iso` | `vztmpl`.
- `datastore_id` (String) The identifier for the target datastore.
- `node_name` (String) The node name.
- `url` (String) The URL to download the file from. Format `https?://.*`.

### Optional

- `checksum` (String) The expected checksum of the file.
- `checksum_algorithm` (String) The algorithm to calculate the checksum of the file. Must be `md5` | `sha1` | `sha224` | `sha256` | `sha384` | `sha512`.
- `compression` (String) Decompress the downloaded file using the specified compression algorithm. Must be one of `gz` | `lzo` | `zst`.
- `file_name` (String) The file name. If not provided, it is calculatedusing `url`.
- `overwrite` (Boolean) If `true` and size of uploaded file is different, than size from `url` Content-Length header, file will be downloaded again. If `false`, there will be no checks.
- `upload_timeout` (Number) The file download timeout seconds. Default is 600 (10min).
- `verify` (Boolean) By default `true`. If `false`, no SSL/TLS certificates will be verified.

### Read-Only

- `id` (String) The unique identifier of this resource.
- `path` (String) The file path on host.
- `size` (Number) The file size.
