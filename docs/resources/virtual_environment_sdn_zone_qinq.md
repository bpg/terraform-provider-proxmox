---
layout: page
title: proxmox_virtual_environment_sdn_zone_qinq
parent: Resources
subcategory: Virtual Environment
description: |-
  QinQ Zone in Proxmox SDN. QinQ also known as VLAN stacking, that uses multiple layers of VLAN tags for isolation. The QinQ zone defines the outer VLAN tag (the Service VLAN) whereas the inner VLAN tag is defined by the VNet. Your physical network switches must support stacked VLANs for this configuration. Due to the double stacking of tags, you need 4 more bytes for QinQ VLANs. For example, you must reduce the MTU to 1496 if you physical interface MTU is 1500.
---

# Resource: proxmox_virtual_environment_sdn_zone_qinq

QinQ Zone in Proxmox SDN. QinQ also known as VLAN stacking, that uses multiple layers of VLAN tags for isolation. The QinQ zone defines the outer VLAN tag (the Service VLAN) whereas the inner VLAN tag is defined by the VNet. Your physical network switches must support stacked VLANs for this configuration. Due to the double stacking of tags, you need 4 more bytes for QinQ VLANs. For example, you must reduce the MTU to 1496 if you physical interface MTU is 1500.

## Example Usage

```terraform
resource "proxmox_virtual_environment_sdn_zone_qinq" "example" {
  id                    = "qinq1"
  nodes                 = ["pve"]
  bridge                = "vmbr0"
  service_vlan          = 100
  service_vlan_protocol = "802.1ad"
  mtu                   = 1496

  # Optional attributes
  dns         = "1.1.1.1"
  dns_zone    = "example.com"
  ipam        = "pve"
  reverse_dns = "1.1.1.1"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bridge` (String) A local, VLAN-aware bridge that is already configured on each local node
- `id` (String) The unique identifier of the SDN zone.
- `nodes` (Set of String) The Proxmox nodes which the zone and associated VNets should be deployed on
- `service_vlan` (Number) Service VLAN tag for QinQ. The tag must be between `1` and `4094`.

### Optional

- `dns` (String) DNS API server address.
- `dns_zone` (String) DNS domain name. Used to register hostnames, such as `<hostname>.<domain>`. The DNS zone must already exist on the DNS server.
- `ipam` (String) IP Address Management system.
- `mtu` (Number) MTU value for the zone.
- `reverse_dns` (String) Reverse DNS API server address.
- `service_vlan_protocol` (String) Service VLAN protocol for QinQ. The protocol must be `802.1ad` or `802.1q`.

## Import

Import is supported using the following syntax:

```shell
#!/usr/bin/env sh
# QinQ SDN zone can be imported using its unique identifier (zone ID)
terraform import proxmox_virtual_environment_sdn_zone_qinq.example qinq1
```
