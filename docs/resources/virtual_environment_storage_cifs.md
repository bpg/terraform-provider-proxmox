---
layout: page
title: proxmox_virtual_environment_storage_cifs
parent: Resources
subcategory: Virtual Environment
description: |-
  Manages an SMB/CIFS based storage server in Proxmox VE.
---

# Resource: proxmox_virtual_environment_storage_cifs

Manages an SMB/CIFS based storage server in Proxmox VE.

## Example Usage

```terraform
resource "proxmox_virtual_environment_storage_cifs" "example" {
  id     = "example-cifs"
  nodes  = ["pve"]
  server = "10.0.0.20"
  share  = "proxmox"

  username = "cifs-user"
  password = "cifs-password"

  content                  = ["images"]
  domain                   = "WORKGROUP"
  subdirectory             = "terraform"
  preallocation            = "metadata"
  snapshot_as_volume_chain = true

  backups {
    max_protected_backups = 5
    keep_daily            = 7
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) The unique identifier of the storage.
- `password` (String, Sensitive) The password for authenticating with the SMB/CIFS server.
- `server` (String) The IP address or DNS name of the SMB/CIFS server.
- `share` (String) The name of the SMB/CIFS share.
- `username` (String) The username for authenticating with the SMB/CIFS server.

### Optional

- `content` (Set of String) The content types that can be stored on this storage.
- `disable` (Boolean) Whether the storage is disabled.
- `domain` (String) The SMB/CIFS domain.
- `nodes` (Set of String) A list of nodes where this storage is available.
- `preallocation` (String) The preallocation mode for raw and qcow2 images.
- `snapshot_as_volume_chain` (Boolean) Enable support for creating snapshots through volume backing-chains.
- `subdirectory` (String) A subdirectory to mount within the share.

### Read-Only

- `shared` (Boolean) Whether the storage is shared across all nodes.
